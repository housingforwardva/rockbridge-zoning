<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Existing zoning – Rockbridge County Zoning Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./future-land-use.html" rel="next">
<link href="./current-land-use.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2486e1f0a3ee9ee1fc393803a1361cdb.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f8da821f83d7bd49ea878d596e003d7b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">



</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./current-land-use.html">Rockbridge</a></li><li class="breadcrumb-item"><a href="./existing-zoning.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Existing zoning</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Rockbridge County Zoning Analysis</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-collection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data collection</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./doc-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Document review</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Rockbridge</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./current-land-use.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Current land use</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./existing-zoning.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Existing zoning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./future-land-use.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Future land use</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dev-potential.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Development potential</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lexington.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Lexington</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./buena-vista.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Buena Vista</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#zoning-districts" id="toc-zoning-districts" class="nav-link active" data-scroll-target="#zoning-districts"><span class="header-section-number">2.1</span> Zoning districts</a></li>
  <li><a href="#sec-rb-lot-req" id="toc-sec-rb-lot-req" class="nav-link" data-scroll-target="#sec-rb-lot-req"><span class="header-section-number">2.2</span> Lot requirements</a></li>
  <li><a href="#distribution" id="toc-distribution" class="nav-link" data-scroll-target="#distribution"><span class="header-section-number">2.3</span> Distribution</a></li>
  <li><a href="#land-use-by-district" id="toc-land-use-by-district" class="nav-link" data-scroll-target="#land-use-by-district"><span class="header-section-number">2.4</span> Land use by district</a></li>
  <li><a href="#undeveloped-lots" id="toc-undeveloped-lots" class="nav-link" data-scroll-target="#undeveloped-lots"><span class="header-section-number">2.5</span> Undeveloped lots</a></li>
  <li><a href="#takeaways" id="toc-takeaways" class="nav-link" data-scroll-target="#takeaways"><span class="header-section-number">2.6</span> Takeaways</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./current-land-use.html">Rockbridge</a></li><li class="breadcrumb-item"><a href="./existing-zoning.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Existing zoning</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Existing zoning</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This section examines current residential zoning patterns in Rockbridge County.</p>
<p>The existing zoning ordinance dictating land use and development was originally written in 1982. It has not been comprehensively rewritten since then. At that time, the County population was 17,856—about 5,000 people less than its population today.</p>
<p>Since 1982, amendments have been made to the zoning code to address cases and uses not originally considered, but the overall form of the zoning code remains unchanged.</p>
<section id="zoning-districts" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="zoning-districts"><span class="header-section-number">2.1</span> Zoning districts</h2>
<p>Rockbridge County has nine base zoning districts and five overlay districts.</p>
<div class="cell">
<div id="tbl-zoning-districts" class="cell quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-zoning-districts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2.1: Zoning districts in Rockbridge County
</figcaption>
<div aria-describedby="tbl-zoning-districts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-hover table-condensed do-not-create-environment cell caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Zone</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Overlay</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">C-1</td>
<td style="text-align: left;">Conservation</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Nonresidential</td>
</tr>
<tr class="even">
<td style="text-align: center;">A-1</td>
<td style="text-align: left;">Agricultural and Limited Uses</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Primarily Residential</td>
</tr>
<tr class="odd">
<td style="text-align: center;">A-2</td>
<td style="text-align: left;">Agricultural and General Uses</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Primarily Residential</td>
</tr>
<tr class="even">
<td style="text-align: center;">A-T</td>
<td style="text-align: left;">Agricultural Transitional</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Primarily Residential</td>
</tr>
<tr class="odd">
<td style="text-align: center;">R-1</td>
<td style="text-align: left;">Residential General</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Primarily Residential</td>
</tr>
<tr class="even">
<td style="text-align: center;">R-2</td>
<td style="text-align: left;">Residential Mixed</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Primarily Residential</td>
</tr>
<tr class="odd">
<td style="text-align: center;">B-1</td>
<td style="text-align: left;">General Business</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Mixed with Residential</td>
</tr>
<tr class="even">
<td style="text-align: center;">B-2</td>
<td style="text-align: left;">Planned Business</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Mixed with Residential</td>
</tr>
<tr class="odd">
<td style="text-align: center;">I-1</td>
<td style="text-align: left;">General Industrial</td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Nonresidential</td>
</tr>
<tr class="even">
<td style="text-align: center;">FH-1</td>
<td style="text-align: left;">Flood Hazard</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">Nonresidential</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Historical Overlay</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">Mixed with Residential</td>
</tr>
<tr class="even">
<td style="text-align: center;">Agricultural/Forestal Overlay</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">Mixed with Residential</td>
</tr>
<tr class="odd">
<td style="text-align: center;">TC-O</td>
<td style="text-align: left;">Tourism Corridor Overlay</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">Mixed with Residential</td>
</tr>
<tr class="even">
<td style="text-align: center;">Source Water Protection Overlay</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">Mixed with Residential</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</figure>
</div>
</div>
<p>The map below shows the base zoning for each parcel in the county. Parcels with “NA” zoning in the county’s data are excluded. These 575 properties primarily include otherwise undevelopable land, such as the Blue Ridge Parkway.</p>
<div id="fig-zoning-map" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-zoning-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<iframe src="maps/rb_zoning_map.html" width="672" height="400px" data-external="1">
</iframe>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-zoning-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.1: Zoning by parcel in Rockbridge County
</figcaption>
</figure>
</div>
<p>Of those nine base districts, all but two (C-1 and I-1) allow some form residential uses either by right, conditionally, or via special exemption.</p>
<p>The table below shows the allowances for different residential uses in those seven districts.</p>
<div class="cell">
<div id="tbl-residential-uses" class="cell quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-residential-uses-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2.2: Residential use allowances
</figcaption>
<div aria-describedby="tbl-residential-uses-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-hover table-condensed do-not-create-environment cell caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Zone</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">SF detached</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Townhome</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Duplex</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Multifamily</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">MH</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">MHP</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">ADU</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A-1</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
</tr>
<tr class="even">
<td style="text-align: left;">A-2</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A-T</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
</tr>
<tr class="even">
<td style="text-align: left;">R-1</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R-2</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(37, 149, 145, 255) !important;">A</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
</tr>
<tr class="even">
<td style="text-align: left;">B-1</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(139, 133, 202, 255) !important;">C</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B-2</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
<td style="text-align: center; font-weight: bold; color: rgba(177, 0, 95, 255) !important;">P</td>
<td style="text-align: center; font-weight: bold; color: rgba(224, 89, 42, 255) !important;">S</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</figure>
</div>
</div>
<p>Allowance key:</p>
<ul>
<li>A = Allowed by-right</li>
<li>C = Conditional (by-right if additional conditions met)</li>
<li>S = Special exception (permit application and public hearing required)</li>
<li>P = Prohibited</li>
</ul>
<p>Residential use definitions:</p>
<ul>
<li>SF detached = Single-family home with no walls shared with other dwelling units</li>
<li>Townhome = Single-family home with at least one wall shared with other dwelling unit</li>
<li>Duplex = Building with two separate dwelling units</li>
<li>Multifamily = Building with three or more separate dwelling units</li>
<li>MH = Manufactured home (built off-site in accordance with federal codes)</li>
<li>MHP = Manufactured home park (development with three or more manufactured homes on leased lots)</li>
<li>ADU = Accessory dwelling unit</li>
</ul>
<p><strong>Single-family detached</strong> homes are by-right in five of the seven districts. In B-1, they are conditionally permitted by-right if the structure meets the “area and setback requirements of the R-2 District if public water and sewer are available or the R-1 District if on a private drainfield and well or public water” [605.02-04]. This same rule applies to B-2; however, all B-2 developments must be approved via special exemption.</p>
<p><strong>Townhomes</strong> are only allowed conditionally in the R-2 district, and prohibited in all other zones. Townhome developments must meet special regulations found in section 709 of the zoning ordinance to be approved by-right.</p>
<p><strong>Duplexes</strong> are by-right in R-1 and R-2 and conditional in B-1, where the same area, setback, and utility requirements apply as described for single-family homes above. Duplexes are allowed via special exception in A-T and B-2.</p>
<p><strong>Multifamily</strong> developments are by-right only in R-2. In B-1, multifamily is possible only via apartments or condos included as basement or upper-story units included in structures that include other permitted uses. At least 90% of street-level space must be non-residential. Multifamily is possible via special exception in A-T and B-2.</p>
<p><strong>Manufactured homes</strong> are allowed in all districts other than B-1 and B-2 if conditions in section 707 are met. That section requires new units be built according to HUD code (no pre-1976 units), placed on permanent foundation, titled as real estate, among other stipulations. Manufactured homes are allowed only via special exception in B-1 and B-2.</p>
<p><strong>Manufactured home parks</strong> are prohibited in all districts except for A-2 and A-T, where they are allowed only via special exception. New MHP developments must meet the design and site plan requirements outlined in sections 707.02 through 707.06.</p>
</section>
<section id="sec-rb-lot-req" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="sec-rb-lot-req"><span class="header-section-number">2.2</span> Lot requirements</h2>
<p>The zoning ordinance also stipulates specific geometric criteria that must be met before properties can be developed into homes. These include minimum lot area, road frontage, setbacks (front, side, and rear), and in some cases structure height.</p>
<p>These requirements vary by district as seen below in “Table 1: Area and Setback Requirements” from the county’s zoning ordinance (page T1-1).</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="data/rockbridge/rb-area-setback-req.png" class="img-fluid figure-img"></p>
<figcaption>Area and setback requirements</figcaption>
</figure>
</div>
<p>The minimum area for R-1 and R-2 depends on whether the property has access to public water and/or sewer, as shown in “Table 2: Residential District Area Requirements” (T2-1).</p>
<p>Subsequent notes in the text state that the minimum lot size for A-1 and A-2 is 2 acres, except when smaller lots may be approved as part of a cluster development.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="data/rockbridge/rb-area-utility.png" class="img-fluid figure-img"></p>
<figcaption>Area requirements based on utility access</figcaption>
</figure>
</div>
<p>Based on this chart, it is unclear whether the R-1 and R-2 area requirements are specific to single-family residential or if it also applies to duplexes. Both are by-right uses in those districts.</p>
<p>It is further unclear whether the multifamily lot requirement includes duplexes or is specific to a certain definition of multifamily housing, such as three units or more per structure.</p>
</section>
<section id="distribution" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="distribution"><span class="header-section-number">2.3</span> Distribution</h2>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rock-dist-zoning" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rock-dist-zoning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="existing-zoning_files/figure-html/fig-rock-dist-zoning-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rock-dist-zoning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.2: Percent of all parcels in Rockbridge County by zoning district
</figcaption>
</figure>
</div>
</div>
</div>
<p>Parcels zoned A-2 are the most common (49.5 percent) and comprise over half the county’s land area (52.7 percent). A-1 and A-T properties fill out another quarter of the county. Almost the full remainder of the county’s land is zoned for conservation (C-1), or does not have zoning assigned to it.</p>
<p>While R-1 properties account for 14.4 percent of all parcels, they make up just 1.4 percent of all land. Other zoning districts where homes are allowed (R-2, B-1, and B-2) account for less than one percent of land.</p>
</section>
<section id="land-use-by-district" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="land-use-by-district"><span class="header-section-number">2.4</span> Land use by district</h2>
<p>The charts below show how parcels within each zoning district are currently used. Land uses are the same groups described in <a href="current-land-use.html#tbl-lu-rev" class="quarto-xref">Table&nbsp;<span>1.2</span></a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rock-ag-zoning" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rock-ag-zoning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="existing-zoning_files/figure-html/fig-rock-ag-zoning-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rock-ag-zoning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.3: Percent of A-1, A-2, and A-T parcels by land use
</figcaption>
</figure>
</div>
</div>
</div>
<p>Among agriculturally-zoned parcels, a majority are “vacant” or have a single-family home. However, this does not mean farming or harvesting does not occur on those lots; the county has just not assigned “agricultural” as the primary land use.</p>
<p>Vacant parcels most common within the A-1 or A-T zones, where they comprise 55.6 and 67.3 percent, respectively. In the A-2 district, single-family properties are the most prevalent, at just over 51 percent.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rock-res-zoning" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rock-res-zoning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="existing-zoning_files/figure-html/fig-rock-res-zoning-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rock-res-zoning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.4: Percent of R-1, R-2, B-1, and B-2 parcels by land use
</figcaption>
</figure>
</div>
</div>
</div>
<p>Among the four non-agricultural districts that allow residential uses, single-family homes and vacant properties are still the most common parcel types. Well over half of R-1 properties are single-family homes, and another third vacant. Townhomes and condos make up almost 5 percent of R-1 parcels, despite being nonconforming uses.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
No “duplex” land use designation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Duplexes are permitted in R-1 and R-2 by-right; however, the land use codes currently used by the county do not include a standalone duplex designation. According to the latest American Community Survey <a href="https://censusreporter.org/data/table/?table=B25024&amp;geo_ids=05000US51163&amp;primary_geo_id=05000US51163#valueType%7Cestimate">estimates</a>, there are around 60 2-unit dwellings in the county. It is possible these properties are included in the “Townhouse/condo” land use code.</p>
</div>
</div>
<p>Townhomes and condos are most common in R-2, where they make up over 12 percent of parcels. However, vacant lots (47.6 percent) and single-family homes (39 percent) are still much more prevalent in that district.</p>
<p>Two in three B-1 parcels are vacant (66.8 percent). The remainder are almost equally either single-family homes or commercial properties. Only 12 parcels are currently zoned B-2. Of those, most are single-family homes.</p>
</section>
<section id="undeveloped-lots" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="undeveloped-lots"><span class="header-section-number">2.5</span> Undeveloped lots</h2>
<p>There are 10,312 undeveloped lots in zoning districts that allow residential uses. Together, these parcels total 129,982 acres of land. The chart below shows how the county’s vacant property is distributed by their current zoning district.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rock-vacant" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rock-vacant-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="existing-zoning_files/figure-html/fig-rock-vacant-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rock-vacant-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.5: Percent of parcels and land area that are vacant within each zoning district
</figcaption>
</figure>
</div>
</div>
</div>
<p>Just under half of all vacant parcels are zoned A-2 (43.2 percent), but these account for two-thirds of all undeveloped area. Vacant A-1 lots are the next largest group when measured by area (25.8 percent), but only account for 8.4 percent of the total parcel count. Vacant parcels zoned A-T make up the next largest count (26.9 percent), but together are only 5.2 percent of land area.</p>
<p>Single-family detached homes are the only by-right residential use across these districts. (Manufactured homes are also permitted, but must meet certain conditional criteria.) Most other dwelling types are fully prohibited.</p>
<p>Just about one in all five undeveloped lots are zoned for residential or business, with nearly all either R-1 or B-1. These are even a much smaller share of the total vacant area, comprising about 2.5 percent. These are the only vacant parcels where townhomes and multiple-unit dwellings are possible by-right, conditionally, or via special exception.</p>
<p>The chart below show how the current zoning ordinance allows (or restricts) different housing types as a percent of undeveloped parcels in the county.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rock-allowance" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rock-allowance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="existing-zoning_files/figure-html/fig-rock-allowance-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rock-allowance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.6: Percent of undeveloped lots by residential use allowances
</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Overstated development potential
</div>
</div>
<div class="callout-body-container callout-body">
<p>This analysis only considers the possible residential uses for each parcel, derived from the county’s zoning ordinance. It does not factor in other regulatory requirements, such as minimum lot sizes and setbacks. Road and utility access are also not included variables. Therefore, the share of vacant parcels actually suitable for development is likely much lower than these estimates.</p>
<p>See the <a href="./dev-potential.html">next chapter</a> for a more detailed assessment of residential development possibilities in the county.</p>
</div>
</div>
<p>Single-family detached homes are by-right on almost nine in ten empty lots, and are a conditional use on almost all other parcels. Manufactured homes share a similar distribution, but require conditional approval most everywhere.</p>
<p>Duplexes are the next most common residential use allowed across vacant properties, where they are by-right in R-1 or R-1 (10.9 percent), or conditional in B-1 (10.5 percent). Multifamily apartments can be developed by-right on less than half a percent of all currently empty parcels, or conditionally on 10.5 percent. Both duplexes and multifamily homes would require a special exception (and public hearing) on 26.9 percent of vacant properties. These are nearly all zoned A-T.</p>
<p>The zoning ordinance fully prohibits apartments on 62.2 percent of undeveloped lots today, and duplexes on 51.7 percent. Townhomes are effectively banned everywhere.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Challenges to manufactured home park development
</div>
</div>
<div class="callout-body-container callout-body">
<p>In theory, new manufactured home parks are possible via special exception on 70.1 percent of vacant lots. However, the three-acre minimum lot size and other development requirements, along with larger market factors beyond county regulatory issues, make this scenario unlikely.</p>
</div>
</div>
<p>The maps below show what types of residential uses are allowed across presently vacant properties in the county. Parcels with any existing improvements are excluded.</p>
<div id="fig-lu-map" class="quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lu-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Single-family detached</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Townhome</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Duplex</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Multifamily</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">Manufactured home</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false">Manufactured home park</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<iframe src="maps/rb_allowance_1fd_map.html" width="672" height="400px" data-external="1">
</iframe>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<iframe src="maps/rb_allowance_1fa_map.html" width="672" height="400px" data-external="1">
</iframe>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<iframe src="maps/rb_allowance_2f_map.html" width="672" height="400px" data-external="1">
</iframe>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<iframe src="maps/rb_allowance_mf_map.html" width="672" height="400px" data-external="1">
</iframe>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<iframe src="maps/rb_allowance_mh_map.html" width="672" height="400px" data-external="1">
</iframe>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div class="cell">
<iframe src="maps/rb_allowance_mhp_map.html" width="672" height="400px" data-external="1">
</iframe>
</div>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lu-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.7: Maps of residential use allowances on vacant parcels
</figcaption>
</figure>
</div>
</section>
<section id="takeaways" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="takeaways"><span class="header-section-number">2.6</span> Takeaways</h2>
<p>Rockbridge’s current residential zoning regimen is not particularly complex. And while the code is generally not amenable by-right housing development beyond single-family detached homes, several exceptions are noteworthy. These include duplexes by-right in R-1 and R-2, and apartments by-right in R-2.</p>
<p>Furthermore, there are a few ambiguities in the county’s zoning data—and ordinance text—that make it difficult to correctly interpret and apply certain regulations.</p>
<p>Preliminary findings and recommendations:</p>
<ul>
<li>Determine with greater certainty how many A-1, A-2, and A-T properties are actually used for activities related to farming and cultivating natural resources.</li>
<li>Create consistent methodology/definition for parcels assigned with “NA” zoning.</li>
<li>Add clarity on current lot area requirements relative to utility access (Table 2 in zoning ordinance, page T2-1).</li>
<li>Explore lowering barriers for townhome development, especially in R-1 and R-2 districts.</li>
<li>Consider carving out a small-scale multifamily definition, such as three to four units per structure, whose development regulations could be less onerous than larger multifamily development.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./current-land-use.html" class="pagination-link" aria-label="Current land use">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Current land use</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./future-land-use.html" class="pagination-link" aria-label="Future land use">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Future land use</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>
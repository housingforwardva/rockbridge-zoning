# Lexington

```{r}
#| label: setup

library(tidyverse)
library(hdatools)
library(scales)
library(sf)
library(mapview)
library(leaflet)
library(kableExtra)
library(htmltools)
library(htmlwidgets)

# Set color scales

allowance_cols <- c(
  "Allowed" = "#259591", 
  "Conditional" = "#8b85ca", 
  "Special Exemption" = "#e0592a",
  "Prohibited" = "#b1005f"
)

allowance_pal <- colorFactor(
  palette = c(
    "#259591", 
    "#8b85ca", 
    "#e0592a"
  ),
  levels = c(
    "Allowed", 
    "Conditional", 
    "Special Exemption"
  )
)

zoning_cols <- c(
  "R-1" = "#FFFFD4",    # Light yellow/cream for General Residential
  "R-2" = "#FFFF00",    # Bright yellow for Suburban Residential
  "R-M" = "#BDB76B",    # Dark khaki for Multifamily Residential
  "R-LC" = "#FF8C00",   # Dark orange for Residential Light Commercial
  "C-1" = "#FFB6C1",    # Light pink for Commercial (Central Business)
  "C-2" = "#FF0000",    # Red for Commercial (General Commerce)
  "P-OS" = "#228B22",   # Forest green for Parks & Open Space
  "NA" = "grey80" 
)

zoning_pal <- colorFactor(
  palette = zoning_cols,
  domain = names(zoning_cols)
)

```

This section examines current residential zoning patterns in the City of Lexington.

The existing zoning ordinance dictating land use and development was originally written in ____
It has not been comprehensively rewritten since then. At that time, the City population was _____.

Since ___, amendments have been made to the zoning code to address cases and uses not originally considered, but the overall form of the zoning code remains unchanged.

```{r}

# Load BV zoning and parcel data

lex_districts <- read_csv("data/lexington/lex-zoning-districts.csv")
lex_zoning <- read_rds("data/lexington/lex_zoning.rds")
lex_parcels <- read_rds("data/lexington/lex_parcels.rds")

```

## Zoning districts

. . .

```{r}
#| label: tbl-zoning-districts
#| tbl-cap: "Zoning districts in Lexington"

lex_districts |> 
  select(zone, name, overlay, type) |> 
  kable(
    col.names = c("Zone", "Name", "Overlay", "Type"),
    align = "clll"
    ) |>
  kableExtra::kable_styling(
    bootstrap_options = c("hover", "condensed", "responsive")
    )

```

. . .

```{r}

zoning_pal <- colorFactor(rainbow(20), unique(lex_parcels$ZONING))




```

. . .

```{r}
#| label: tbl-residential-uses
#| tbl-cap: "Residential use allowances"



```

## Lot requirements

. . .

```{r}



```

## Distribution

. . .

```{r}
#| label: lex-dist-zoning


```

## Land use by district

The charts below show how parcels within each of the City's zoning districts are currently used. 
